# This file configures the logging features of TLE.  Please go through each
# of the following lines, and replace with the appropriate values.

# Logs location.  You should always use forward slashes for the path
# even on a Microsoft Windows box. Files names end up like this...
#
#   Example 1: c:/tle/logs/resource-centre/application.html
#
#     Logs To: c:/tle/logs/resource-centre/2006-05-23/application.html
#              c:/tle/logs/resource-centre/2006-05-23/application.1.html
#              c:/tle/logs/resource-centre/2006-05-23/application.2.html
#              .....
#

Configuration:
  status: warn

  appenders:
    - RollingFile:
        name: FILE
        fileName: "${install.path}/logs/resource-centre/application.html"
        filePattern: "${install.path}/logs/resource-centre/%d{yyyy-MM-dd_HH-mm}/application-%i.html"
        immediateFlush: true
        append: true
        Filters:
          ThresholdFilter:
            level: DEBUG
        HTMLLayout:
          title: TLE Resource Centre
          datePattern: ISO8601
          locationInfo: true
        Policies:
          TimeBasedTriggeringPolicy:
            interval: 1
            modulate: true
          SizeBasedTriggeringPolicy:
            size: 10 MB
        DefaultRollOverStrategy:
          max: 20

    - RollingFile:
        name: REPORT
        fileName: "${install.path}/logs/reporting/log.html"
        filePattern: "${install.path}/logs/reporting/%d{yyyy-MM-dd_HH-mm}/log-%i.html"
        immediateFlush: true
        append: true
        Filters:
          ThresholdFilter:
            level: DEBUG
        HTMLLayout:
          title: EQUELLA Reporting Logs
          datePattern: ISO8601
          locationInfo: true
        Policies:
          TimeBasedTriggeringPolicy:
            interval: 1
            modulate: true
          SizeBasedTriggeringPolicy:
            size: 10 MB
        DefaultRollOverStrategy:
          max: 20

    - RollingFile:
        name: TOMCAT
        fileName: "${install.path}/logs/tomcat/tomcat.html"
        filePattern: "${install.path}/logs/tomcat/%d{yyyy-MM-dd_HH-mm}/tomcat-%i.html"
        immediateFlush: true
        append: true
        Filters:
          ThresholdFilter:
            level: DEBUG
        HTMLLayout:
          title: Tomcat Logs
          datePattern: ISO8601
          locationInfo: true
        Policies:
          TimeBasedTriggeringPolicy:
            interval: 1
            modulate: true
          SizeBasedTriggeringPolicy:
            size: 10 MB
        DefaultRollOverStrategy:
          max: 20

  Loggers:
    Root:
      level: info
      AppenderRef:
        ref: FILE
    Logger:
      - name: org.eclipse.birt
        additivity: false
        level: INFO
        AppenderRef:
          ref: REPORT
      - name: TomcatLog
        additivity: false
        level: INFO
        AppenderRef:
          ref: TOMCAT
